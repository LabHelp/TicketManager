<!--{% extends "base.html" %}
{% block content %}-->
<!--
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="/static/style.css">
-->
<script src="https://unpkg.com/htmx.org@1.9.2"></script>
<div id="modale"></div>
<table class="table table-striped">
  <thead>
    <tr>
      <th>ID</th>
      <th>Data Richiesta</th>
      <th>Numero Ticket</th>
      <th>Data Esecuzione</th>
      <th>Ore</th>
      <th>Minuti</th>
      <th>Email Tecnico</th>
      <th>Email Cliente</th>
      <th>Azioni</th>
    </tr>
  </thead>
  <tbody id="result">
    {% for row in dati %}
    <tr>
      <td>{{ row.id }}</td>
      <td>{{ row.data_richiesta }}</td>
      <td>{{ row.numero_ticket }}</td>
      <td>{{ row.data_esecuzione }}</td>
      <td>{{ row.ore }}</td>
      <td>{{ row.minuti }}</td>
      <td>{{ row.email_tecnico }}</td>
      <td>{{ row.email_cliente }}</td>
      <td>
        <button class="btn btn-sm btn-warning" 
        hx-get="/edit/{{ row.id }}" 
        hx-target="#modale" 
        hx-trigger="click"
        hx-swap="innerHTML">
        Modifica
        </button>
        <!--innerHTML ha risolto -->
        <button class="btn btn-sm btn-danger" hx-post="/delete/{{ row.id }}" hx-target="#result" hx-confirm="Sei sicuro di voler eliminare questo record?">Elimina</button>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<a href="/export/csv" class="btn btn-success mb-3">ðŸ“¤ Esporta CSV</a>
<!--{% endblock %}-->
<!---
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/htmx.org@1.9.2"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="/static/script.js"></script>
<script src="https://cdn.jsdelivr.net/npm/htmx.org@1.9.2"></script>
-->
